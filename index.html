<!doctype html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>S-01 Kundenverwaltung</title>
  <style>
    :root { --bg: #f7f9fc; --card: #ffffff; --border: #e5e7eb; --text: #1f2937; --muted: #4b5563; --general: #1f2937; --p1: #4f46e5; --p2: #059669; --p3: #f59e0b; --p4: #e11d48; }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: 'Segoe UI', Tahoma, sans-serif; background: radial-gradient(circle at 20% 20%, #f2f5ff 0%, #f7f9fc 35%, #eef2ff 100%); color: var(--text); }
    .page { min-height: 100vh; padding: 32px; }
    .container { max-width: 1400px; margin: 0 auto; display: grid; gap: 24px; }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; box-shadow: 0 10px 40px rgba(15, 23, 42, 0.08); padding: 24px; }
    h1 { margin: 0 0 8px 0; font-size: 28px; }
    h2 { margin: 0 0 12px 0; font-size: 20px; }
    p.lead { margin: 0; color: var(--muted); font-size: 14px; line-height: 1.6; }
    .header-info { background: linear-gradient(135deg, rgba(79, 70, 229, 0.06), rgba(5, 150, 105, 0.06)); border-left: 4px solid var(--p1); padding: 16px; border-radius: 12px; margin-top: 16px; }
    .legend { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 16px; }
    .legend-item { display: flex; align-items: center; gap: 8px; font-size: 14px; color: var(--text); }
    .pill { height: 10px; width: 40px; border-radius: 999px; border: 1px solid rgba(0,0,0,0.08); }
    .p1 { background: var(--p1); color: #fff; border-color: #312e81; }
    .p2 { background: var(--p2); color: #fff; border-color: #065f46; }
    .p3 { background: var(--p3); color: #111827; border-color: #d97706; }
    .p4 { background: var(--p4); color: #fff; border-color: #9f1239; }
    .general { background: #1f2937; color: #fff; border-color: #0f172a; }
    
    /* Horizontal Layout fÃ¼r HauptÃ¤ste */
    .branches-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
    .branch-column { background: var(--card); border: 2px solid var(--border); border-radius: 16px; padding: 20px; box-shadow: 0 6px 24px rgba(0,0,0,0.06); }
    .branch-header { padding: 14px 18px; border-radius: 12px; margin-bottom: 16px; cursor: pointer; transition: transform 0.2s; }
    .branch-header:hover { transform: translateY(-2px); }
    .branch-title { font-weight: 700; font-size: 18px; margin: 0; }
    .branch-meta { font-size: 12px; margin: 6px 0 0 0; opacity: 0.9; line-height: 1.4; }
    .branch-content { display: none; }
    .branch-content.expanded { display: block; }
    
    /* Node-Styles fÃ¼r Kinder */
    .node-wrap { margin-left: 0; margin-bottom: 12px; }
    .node { display: flex; align-items: flex-start; gap: 10px; }
    .node-box { padding: 10px 14px; border-radius: 12px; border: 2px solid transparent; box-shadow: 0 4px 16px rgba(0,0,0,0.06); }
    .node-title { font-weight: 600; line-height: 1.3; font-size: 14px; }
    .node-meta { margin: 4px 0 0 0; font-size: 11px; opacity: 0.85; line-height: 1.4; }
    .children { border-left: 2px solid var(--border); margin-left: 18px; padding-left: 16px; margin-top: 8px; }
    .toggle { cursor: pointer; border: none; background: transparent; font-size: 14px; line-height: 1; padding: 4px; color: var(--muted); }
    .bullet { width: 6px; height: 6px; border-radius: 50%; background: #9ca3af; margin-top: 8px; flex-shrink: 0; }
    
    /* Bubble-Auflistung */
    .task-bubbles { display: flex; flex-wrap: wrap; gap: 10px; }
    .task-bubble { padding: 10px 16px; border-radius: 20px; font-size: 13px; font-weight: 500; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; border: 2px solid transparent; }
    .task-bubble:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,0.12); }
    
    /* Timeline horizontal */
    .timeline-horizontal { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; }
    .timeline-week { background: var(--card); border: 2px solid var(--border); border-radius: 16px; padding: 16px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }
    .timeline-week:hover { transform: translateY(-4px); box-shadow: 0 8px 32px rgba(0,0,0,0.12); }
    .timeline-week-header { padding: 12px 16px; border-radius: 12px; margin-bottom: 12px; }
    .timeline-week-title { font-weight: 700; font-size: 16px; margin: 0 0 6px 0; }
    .timeline-week-info { font-size: 13px; line-height: 1.5; opacity: 0.9; margin: 0; }
    .timeline-week-tasks { display: none; flex-direction: column; gap: 8px; margin-top: 12px; }
    .timeline-week-tasks.expanded { display: flex; }
    .timeline-kw50 .timeline-week-header { background: linear-gradient(135deg, rgba(34, 197, 94, 0.08), rgba(34, 197, 94, 0.04)); border-left: 3px solid #86efac; }
    .timeline-kw51 .timeline-week-header { background: linear-gradient(135deg, rgba(34, 197, 94, 0.14), rgba(34, 197, 94, 0.07)); border-left: 3px solid #4ade80; }
    .timeline-kw52 .timeline-week-header { background: linear-gradient(135deg, rgba(34, 197, 94, 0.20), rgba(34, 197, 94, 0.10)); border-left: 3px solid #22c55e; }
    .timeline-kw01 .timeline-week-header { background: linear-gradient(135deg, rgba(34, 197, 94, 0.26), rgba(34, 197, 94, 0.13)); border-left: 3px solid #16a34a; }
    .timeline-kw02 .timeline-week-header { background: linear-gradient(135deg, rgba(34, 197, 94, 0.32), rgba(34, 197, 94, 0.16)); border-left: 3px solid #15803d; }
    .timeline-kw03 .timeline-week-header { background: linear-gradient(135deg, rgba(34, 197, 94, 0.38), rgba(34, 197, 94, 0.19)); border-left: 3px solid #166534; }
    .timeline-kw04 .timeline-week-header { background: linear-gradient(135deg, rgba(34, 197, 94, 0.44), rgba(34, 197, 94, 0.22)); border-left: 3px solid #14532d; }
    
    /* Wiki Styles */
    .wiki-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 16px; }
    .wiki-item { background: linear-gradient(135deg, rgba(79, 70, 229, 0.03), rgba(5, 150, 105, 0.03)); border: 2px solid var(--border); border-radius: 12px; padding: 16px; transition: transform 0.2s, box-shadow 0.2s; }
    .wiki-item:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,0.08); border-color: var(--p1); }
    .wiki-header { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; padding-bottom: 10px; border-bottom: 2px solid var(--border); }
    .wiki-number { background: linear-gradient(135deg, var(--p1), var(--p2)); color: white; font-weight: 700; font-size: 14px; padding: 6px 12px; border-radius: 8px; min-width: 50px; text-align: center; }
    .wiki-title { font-weight: 700; font-size: 16px; color: var(--text); margin: 0; flex: 1; }
    .wiki-content { font-size: 13px; line-height: 1.6; color: var(--text); }
    .wiki-section { margin-bottom: 12px; }
    .wiki-section-title { font-weight: 600; color: var(--p1); margin: 0 0 6px 0; font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px; }
    .wiki-list { margin: 4px 0; padding-left: 18px; }
    .wiki-list li { margin: 4px 0; }
    .wiki-vocab { background: rgba(79, 70, 229, 0.06); padding: 3px 8px; border-radius: 6px; font-weight: 500; color: var(--p1); }
    
    @media (max-width: 1200px) {
      .branches-container { grid-template-columns: 1fr; }
      .wiki-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="page">
    <div class="container">
      <!-- Header Card -->
      <div class="card">
        <h1>S-01 Kundenverwaltung</h1>
        <div class="header-info">
          <p class="lead"><strong>Aufgabenstellung:</strong> Fachliche Gliederung der Anforderungen fÃ¼r das Segment Kundenverwaltung im Online-Ticket-Shop</p>
          <p class="lead"><strong>PflichtÃ¤ste:</strong> Use Cases Â· Objekte und Attribute Â· Schnittstellen zu anderen Segmenten und externen Systemen</p>
          <p class="lead"><strong>Tools:</strong> Mindmapping mit XMind oder FreeMind Â· UML-Diagramme mit Visual Paradigm Community Edition</p>
        </div>
        <div class="legend" id="legend"></div>
      </div>

      <!-- Drei HauptÃ¤ste horizontal -->
      <div class="branches-container" id="branches"></div>

      <!-- Timeline mit Aufgaben pro Woche -->
      <div class="card">
        <h2>Timeline bis 25.01.2026</h2>
        <div class="timeline-horizontal" id="timeline"></div>
      </div>

      <!-- Wiki: VL 1-11 Zusammenfassungen -->
      <div class="card">
        <h2>ðŸ“š Wiki: Software Engineering Grundlagen (VL 1-11)</h2>
        <p class="lead" style="margin-bottom: 24px;">Kompakte Ãœbersicht zu Themen, Vokabeln und Arbeitsweisen aus den Vorlesungen</p>
        
        <div class="wiki-grid" id="wiki"></div>
      </div>
    </div>
  </div>
  <script>
    const nodeIndex = new Map();
    const parentIndex = new Map();
    const allTasks = [];
    const roleStyles = { general: 'general', p1: 'p1', p2: 'p2', p3: 'p3', p4: 'p4' };
    const legend = [
      { role: 'general', label: 'Aufgabenstellung / Neutral' },
      { role: 'p1', label: 'Use Cases & Stories' },
      { role: 'p2', label: 'Objekte & Attribute' },
      { role: 'p3', label: 'Dynamik & Regeln' },
      { role: 'p4', label: 'Schnittstellen & Segmente' }
    ];

    const wikiData = [
      {
        vl: 'VL 1',
        title: 'EinfÃ¼hrung Software Engineering',
        topics: ['Definition Software Engineering', 'Software-Krise', 'QualitÃ¤tskriterien', 'Entwicklungsprozesse'],
        vocab: [
          { term: 'Software Engineering', def: 'IngenieurmÃ¤ÃŸige Entwicklung und Wartung von Software mit systematischen, disziplinierten und quantifizierbaren AnsÃ¤tzen' },
          { term: 'Software-Krise', def: 'Probleme in den 1960er Jahren: Projekte zu teuer, zu spÃ¤t, fehlerhaft, nicht wartbar' },
          { term: 'QualitÃ¤tskriterien', def: 'FunktionalitÃ¤t, ZuverlÃ¤ssigkeit, Benutzbarkeit, Effizienz, Wartbarkeit, PortabilitÃ¤t (ISO 9126)' }
        ],
        methods: 'Ãœberblick Ã¼ber Phasenmodelle (Wasserfall, V-Modell) und agile AnsÃ¤tze; EinfÃ¼hrung in Requirements Engineering'
      },
      {
        vl: 'VL 2',
        title: 'Requirements Engineering',
        topics: ['Anforderungserhebung', 'Funktionale/Nichtfunktionale Anforderungen', 'Use Cases', 'User Stories'],
        vocab: [
          { term: 'Requirements Engineering', def: 'Systematischer Prozess zur Ermittlung, Analyse, Spezifikation und Validierung von Anforderungen' },
          { term: 'Funktionale Anforderung', def: 'Beschreibt WAS das System tun soll (z.B. "Benutzer kann sich einloggen")' },
          { term: 'Nichtfunktionale Anforderung', def: 'Beschreibt WIE gut das System funktioniert (Performance, Sicherheit, Usability)' },
          { term: 'Use Case', def: 'Beschreibung einer Interaktion zwischen Akteur und System zur Erreichung eines Ziels' },
          { term: 'User Story', def: 'Agiles Format: "Als [Rolle] mÃ¶chte ich [Funktion], um [Nutzen]"' }
        ],
        methods: 'Interviews, Workshops, Beobachtung; Use-Case-Diagramme (UML); User-Story-Mapping; Priorisierung mit MoSCoW'
      },
      {
        vl: 'VL 3',
        title: 'UML-Grundlagen & Use-Case-Diagramme',
        topics: ['UML-Ãœberblick', 'Use-Case-Diagramme', 'Akteure', 'Beziehungen (include, extend, generalization)'],
        vocab: [
          { term: 'UML', def: 'Unified Modeling Language - standardisierte Notation zur Visualisierung von Softwaresystemen' },
          { term: 'Akteur', def: 'Rolle auÃŸerhalb des Systems, die mit dem System interagiert (Mensch, anderes System)' },
          { term: 'include', def: 'Use Case A beinhaltet immer Use Case B (Pflicht-Beziehung)' },
          { term: 'extend', def: 'Use Case B erweitert optional Use Case A (bedingte Erweiterung)' },
          { term: 'Generalization', def: 'Vererbung zwischen Akteuren oder Use Cases (Spezialisierung)' }
        ],
        methods: 'Use-Case-Diagramm zeichnen in Visual Paradigm: Akteure platzieren, Use Cases als Ellipsen, Assoziationen mit Linien, <<include>>/<<extend>> Stereotypen'
      },
      {
        vl: 'VL 4',
        title: 'AktivitÃ¤tsdiagramme',
        topics: ['Ablaufmodellierung', 'Kontrollfluss', 'Actions, Decisions, Forks', 'Swimlanes'],
        vocab: [
          { term: 'AktivitÃ¤tsdiagramm', def: 'UML-Diagramm zur Modellierung von AblÃ¤ufen/Workflows (Ã¤hnlich Flussdiagramm)' },
          { term: 'Action', def: 'Einzelner Schritt im Ablauf (abgerundetes Rechteck)' },
          { term: 'Decision Node', def: 'Verzweigung im Ablauf (Raute), mit Guards [Bedingung] an ausgehenden Kanten' },
          { term: 'Fork/Join', def: 'Parallelisierung (Fork: ein â†’ mehrere) und Synchronisation (Join: mehrere â†’ ein), dargestellt als dicke Balken' },
          { term: 'Swimlane', def: 'Vertikale/horizontale Unterteilung des Diagramms zur Zuordnung von Verantwortlichkeiten' }
        ],
        methods: 'Start-Node â†’ Actions â†’ Decision-Nodes mit Guards â†’ Fork fÃ¼r parallele Pfade â†’ Join zur Synchronisation â†’ End-Node. In Visual Paradigm: Activity Diagram erstellen, Elemente aus Palette ziehen'
      },
      {
        vl: 'VL 5',
        title: 'Klassendiagramme',
        topics: ['Objektorientierte Modellierung', 'Klassen, Attribute, Methoden', 'Assoziationen', 'Vererbung, Aggregation, Komposition'],
        vocab: [
          { term: 'Klassendiagramm', def: 'UML-Diagramm zur Darstellung von Klassen, Attributen, Methoden und deren Beziehungen' },
          { term: 'Klasse', def: 'Bauplan fÃ¼r Objekte mit Attributen (Daten) und Methoden (Verhalten)' },
          { term: 'Assoziation', def: 'Beziehung zwischen Klassen (Linie), mit MultiplizitÃ¤t (1, 0..1, 0..*, 1..*) und Rollennamen' },
          { term: 'Vererbung/Generalization', def: 'Klasse A erbt von Klasse B (hohler Pfeil von A zu B)' },
          { term: 'Aggregation', def: 'Teil-Ganzes-Beziehung (hohle Raute), Teil kann unabhÃ¤ngig existieren' },
          { term: 'Komposition', def: 'Starke Teil-Ganzes-Beziehung (gefÃ¼llte Raute), Teil existiert nicht ohne Ganzes' }
        ],
        methods: 'In Visual Paradigm Class Diagram: Klassen erstellen (3 Abschnitte: Name, Attribute, Methoden), Visibility (-/+/#), Assoziationen zeichnen, MultiplizitÃ¤t setzen, Vererbung/Aggregation mit entsprechenden Tools'
      },
      {
        vl: 'VL 6',
        title: 'Sequenzdiagramme',
        topics: ['Interaktionsmodellierung', 'Lifelines', 'Messages', 'Aktivierungsbalken', 'Alt/Opt/Loop Fragments'],
        vocab: [
          { term: 'Sequenzdiagramm', def: 'UML-Diagramm zur Darstellung zeitlicher AblÃ¤ufe von Nachrichten zwischen Objekten' },
          { term: 'Lifeline', def: 'Vertikale gestrichelte Linie, reprÃ¤sentiert ein Objekt/Akteur Ã¼ber Zeit' },
          { term: 'Message', def: 'Nachricht zwischen Lifelines (Pfeil), synchron (gefÃ¼llt) oder asynchron (offen)' },
          { term: 'Aktivierungsbalken', def: 'Rechteck auf Lifeline zeigt aktive AusfÃ¼hrungszeit' },
          { term: 'Combined Fragment', def: 'Rahmen fÃ¼r bedingte/alternative AblÃ¤ufe: alt (Alternative), opt (Optional), loop (Schleife)' }
        ],
        methods: 'In Visual Paradigm Sequence Diagram: Lifelines hinzufÃ¼gen, Messages zeichnen (Pfeil von Sender zu EmpfÃ¤nger), return-Messages gestrichelt, alt-Fragment fÃ¼r bedingte Logik [Guard], loop fÃ¼r Wiederholungen'
      },
      {
        vl: 'VL 7',
        title: 'Zustandsdiagramme',
        topics: ['Zustandsbasierte Modellierung', 'ZustÃ¤nde, ÃœbergÃ¤nge', 'Events, Guards, Actions'],
        vocab: [
          { term: 'Zustandsdiagramm', def: 'UML-Diagramm zur Modellierung des Lebenszyklus eines Objekts (ZustÃ¤nde und ÃœbergÃ¤nge)' },
          { term: 'Zustand', def: 'Situation eines Objekts, in der es auf Events wartet (abgerundetes Rechteck)' },
          { term: 'Ãœbergang', def: 'Pfeil zwischen ZustÃ¤nden, ausgelÃ¶st durch Event, optional mit Guard [Bedingung] und Action' },
          { term: 'Event', def: 'AuslÃ¶ser fÃ¼r ZustandsÃ¼bergang (z.B. buttonClicked, timeout)' },
          { term: 'Guard', def: 'Bedingung [x > 0], die erfÃ¼llt sein muss, damit Ãœbergang stattfindet' },
          { term: 'Entry/Exit Action', def: 'Aktionen, die beim Betreten (entry/) oder Verlassen (exit/) eines Zustands ausgefÃ¼hrt werden' }
        ],
        methods: 'In Visual Paradigm State Machine Diagram: Start-Zustand (gefÃ¼llter Kreis) â†’ ZustÃ¤nde â†’ ÃœbergÃ¤nge mit Event[Guard]/Action â†’ End-Zustand (gefÃ¼llter Kreis mit Ring)'
      },
      {
        vl: 'VL 8',
        title: 'Software-Architektur',
        topics: ['Architekturstile', 'Schichtenarchitektur', 'MVC-Pattern', 'Microservices', 'Komponenten und Schnittstellen'],
        vocab: [
          { term: 'Software-Architektur', def: 'Grundlegende Struktur eines Systems: Komponenten, Beziehungen, Prinzipien' },
          { term: 'Schichtenarchitektur', def: 'Aufteilung in Layers (z.B. PrÃ¤sentation, Business-Logik, Datenzugriff), jede Schicht nutzt nur darunterliegende' },
          { term: 'MVC', def: 'Model-View-Controller: Trennung von Daten (Model), Anzeige (View) und Steuerung (Controller)' },
          { term: 'Microservices', def: 'Architekturstil: kleine, unabhÃ¤ngige Services statt monolithischer Anwendung' },
          { term: 'Komponentendiagramm', def: 'UML-Diagramm zur Darstellung von Software-Komponenten und deren AbhÃ¤ngigkeiten' }
        ],
        methods: 'Architekturentscheidungen dokumentieren: Welche Layer? Welche Komponenten? Schnittstellendefinition mit provided/required Interfaces. Komponentendiagramm in Visual Paradigm: Komponenten als Rechtecke mit <<component>>, AbhÃ¤ngigkeiten mit gestrichelten Pfeilen'
      },
      {
        vl: 'VL 9',
        title: 'Design Patterns',
        topics: ['Entwurfsmuster', 'Creational Patterns', 'Structural Patterns', 'Behavioral Patterns'],
        vocab: [
          { term: 'Design Pattern', def: 'BewÃ¤hrte LÃ¶sungsschablone fÃ¼r wiederkehrende Entwurfsprobleme' },
          { term: 'Singleton', def: 'Creational Pattern: Stellt sicher, dass eine Klasse nur eine Instanz hat (z.B. Konfigurationsobjekt)' },
          { term: 'Factory', def: 'Creational Pattern: Objekt-Erzeugung Ã¼ber Factory-Methode statt direktem new' },
          { term: 'Observer', def: 'Behavioral Pattern: Objekte (Observer) werden automatisch Ã¼ber Ã„nderungen am Subject benachrichtigt' },
          { term: 'Strategy', def: 'Behavioral Pattern: Algorithmus zur Laufzeit austauschbar (z.B. verschiedene Sortierverfahren)' },
          { term: 'Decorator', def: 'Structural Pattern: Dynamisches HinzufÃ¼gen von FunktionalitÃ¤t zu Objekten' }
        ],
        methods: 'Pattern im Klassendiagramm darstellen: z.B. Singleton mit private Constructor + static getInstance(). Observer mit Subject-Observer-Beziehung. Factory mit Factory-Klasse und Produkthierarchie'
      },
      {
        vl: 'VL 10',
        title: 'Testen & QualitÃ¤tssicherung',
        topics: ['Testarten', 'Unit-Tests', 'Integrationstests', 'Testgetriebene Entwicklung (TDD)', 'Code Reviews'],
        vocab: [
          { term: 'Unit-Test', def: 'Test einzelner Code-Einheiten (Methoden, Klassen) isoliert von anderen Komponenten' },
          { term: 'Integrationstest', def: 'Test des Zusammenspiels mehrerer Komponenten' },
          { term: 'Systemtest', def: 'Test des Gesamtsystems gegen Anforderungen (funktional + nichtfunktional)' },
          { term: 'TDD', def: 'Test-Driven Development: Erst Test schreiben (rot), dann Code implementieren (grÃ¼n), dann refaktorieren' },
          { term: 'Code Coverage', def: 'MaÃŸ fÃ¼r Testabdeckung: Welcher Anteil des Codes wird durch Tests ausgefÃ¼hrt?' },
          { term: 'Mock', def: 'Ersatzobjekt fÃ¼r AbhÃ¤ngigkeiten im Test (simuliert Verhalten)' }
        ],
        methods: 'Unit-Tests mit JUnit (Java) oder pytest (Python): @Test-Annotation, assert-Statements. TDD-Zyklus: Red (Test fehlschlÃ¤gt) â†’ Green (Test erfolgreich) â†’ Refactor (Code verbessern). Code Reviews: Vier-Augen-Prinzip, Checklisten'
      },
      {
        vl: 'VL 11',
        title: 'Agile Methoden & Scrum',
        topics: ['Agiles Manifest', 'Scrum-Framework', 'Sprints', 'Rollen (Product Owner, Scrum Master, Team)', 'Artefakte (Product Backlog, Sprint Backlog)'],
        vocab: [
          { term: 'Agiles Manifest', def: '4 Werte: Individuen > Prozesse, funktionierende Software > Dokumentation, Zusammenarbeit > VertrÃ¤ge, Reagieren auf VerÃ¤nderung > Plan' },
          { term: 'Scrum', def: 'Agiles Framework mit festen Rollen, Events (Sprint, Daily, Review, Retro) und Artefakten' },
          { term: 'Sprint', def: 'Timeboxed Iteration (1-4 Wochen), am Ende steht potenziell auslieferbare Software' },
          { term: 'Product Owner', def: 'Verantwortlich fÃ¼r Product Backlog, priorisiert Features nach Business Value' },
          { term: 'Scrum Master', def: 'Coach des Teams, beseitigt Impediments, schÃ¼tzt vor StÃ¶rungen' },
          { term: 'Product Backlog', def: 'Priorisierte Liste aller Anforderungen (User Stories, Bugs, Tasks)' },
          { term: 'Sprint Backlog', def: 'Teilmenge des Product Backlogs fÃ¼r aktuellen Sprint' },
          { term: 'Daily Standup', def: 'TÃ¤gliches 15-min Meeting: Was habe ich gemacht? Was mache ich heute? Was blockiert mich?' }
        ],
        methods: 'Scrum-Prozess: Sprint Planning (Backlog Items auswÃ¤hlen) â†’ Daily Standups â†’ Sprint Review (Demo) â†’ Sprint Retrospective (Verbesserungen). User Stories schÃ¤tzen mit Planning Poker (Story Points). Kanban-Board: To Do â†’ In Progress â†’ Done'
      }
    ];

    const mindMapData = {
      label: 'S-01 Kundenverwaltung',
      role: 'general',
      meta: 'Format: Mindmap; Tools: XMind/FreeMind',
      children: [
        { label: 'Use Cases', role: 'p1', meta: 'Alle Use Cases mit User Stories; Format: User Stories + UC-Spezifikationen; Tools: XMind/FreeMind + Visual Paradigm', children: [
          { label: 'UC: Registrierung & Login', role: 'p1', meta: 'Passwort-Policy, Sperrlogik; Schnittstelle zu S-09; Format: UC-Spezifikation + AktivitÃ¤tsdiagramm; Tools: XMind + Visual Paradigm', children: [
            { label: 'User Story: Registrierung', role: 'p1', meta: 'Erstelle in XMind einen Topic-Knoten "User Story: Registrierung" mit Subtopics fÃ¼r Akzeptanzkriterien: Benutzername (unique), E-Mail (validiert), Passwort 2Ã— eingeben (identisch), Registrierungsdatum (automatisch)' },
            { label: 'User Story: Login', role: 'p1', meta: 'Erstelle in XMind einen Topic-Knoten "User Story: Login" mit Subtopics: Eingabe Benutzername/Passwort, 3Ã— falsches Passwort â†’ 1h Sperre, Erfolgreiches Login â†’ Zugriff auf Warenkorb' },
            { label: 'UC-Spezifikation: Registrierung', role: 'p1', meta: 'Erstelle in XMind eine UC-Spezifikation mit Knoten: Vorbedingung (kein Account), Nachbedingung (Account erstellt), Hauptszenario (1. Formular Ã¶ffnen, 2. Daten eingeben, 3. Passwort 2Ã— eingeben, 4. BestÃ¤tigen), Alternativszenarien (E-Mail bereits vorhanden, PasswÃ¶rter nicht identisch)' },
            { label: 'UC-Spezifikation: Login', role: 'p1', meta: 'Erstelle in XMind eine UC-Spezifikation mit Knoten: Vorbedingung (Account vorhanden, nicht gesperrt), Nachbedingung (eingeloggt), Hauptszenario (1. Benutzername/Passwort eingeben, 2. Validierung mit S-09, 3. Session erstellen), Alternativszenarien (falsches Passwort â†’ Fehlversuch erhÃ¶hen, 3. Fehlversuch â†’ Sperre bis Timestamp+1h)' },
            { label: 'AktivitÃ¤tsdiagramm: Passwort-Validierung', role: 'p3', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Activity Diagram. FÃ¼ge Start-Node hinzu â†’ Action "Passwort eingeben" â†’ Decision-Node "Passwort komplex?" (Guard: MindestlÃ¤nge 8, GroÃŸbuchstaben, Ziffern, Sonderzeichen) â†’ bei [nein] Action "Fehlermeldung anzeigen" â†’ zurÃ¼ck zu "Passwort eingeben". Bei [ja] â†’ Action "Passwort wiederholen" â†’ Decision-Node "PasswÃ¶rter identisch?" â†’ bei [nein] zurÃ¼ck zu "Passwort eingeben", bei [ja] â†’ Action "Passwort-Hash speichern" â†’ End-Node' },
            { label: 'AktivitÃ¤tsdiagramm: Sperrlogik', role: 'p3', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Activity Diagram. Start-Node â†’ Action "Login-Versuch" â†’ Aufruf an S-09 "Passwort validieren" â†’ Decision-Node "Passwort korrekt?" â†’ bei [ja] Action "Session erstellen" â†’ End-Node. Bei [nein] â†’ Action "Fehlversuche +1" â†’ Decision-Node "Fehlversuche >= 3?" â†’ bei [ja] Action "Gesperrt-bis = jetzt + 1h setzen" â†’ Action "Fehlermeldung: Account gesperrt" â†’ End-Node. Bei [nein] â†’ Action "Fehlermeldung: falsches Passwort" â†’ zurÃ¼ck zu "Login-Versuch"' },
            { label: 'Sequenzdiagramm: Schnittstelle S-09', role: 'p3', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Sequence Diagram. FÃ¼ge Lifelines hinzu: "Kunde", "S-01 Kundenverwaltung", "S-09 Login-System". Zeichne Message von Kunde â†’ S-01 "login(benutzername, passwort)". S-01 â†’ S-09 "validatePassword(benutzername, passwort)". S-09 antwortet mit return "valid/invalid + Fehlversuche". Bei invalid: S-01 â†’ S-09 "incrementFailedAttempts(benutzername)". Bei 3. Fehlversuch: S-01 â†’ S-09 "lockAccount(benutzername, duration=1h)". S-09 return "accountLocked". S-01 â†’ Kunde "Fehlermeldung"' }
          ]},
          { label: 'UC: Profil & Kontaktdaten pflegen', role: 'p1', meta: 'Liefer-/Rechnungsadresse, nur digitale Zustellung (Anforderung fÃ¼r S-04); Format: UC-Spezifikation; Tool: XMind', children: [
            { label: 'User Story: Profil pflegen', role: 'p1', meta: 'Erstelle in XMind einen Topic-Knoten "User Story: Profil pflegen" mit Subtopics: Akzeptanzkriterien (Vorname, Nachname, E-Mail Ã¤nderbar; Liefer-/Rechnungsadresse separat pflegen; nur digitale Ticket-Zustellung E-Mail/Download/QR-Code, keine Papiertickets)' },
            { label: 'UC-Spezifikation: Profil bearbeiten', role: 'p1', meta: 'Erstelle in XMind eine UC-Spezifikation mit Knoten: Vorbedingung (eingeloggt), Nachbedingung (Daten aktualisiert), Hauptszenario (1. Profil Ã¶ffnen, 2. Felder bearbeiten: Name, E-Mail, 3. Speichern, 4. BestÃ¤tigung), Alternativszenarien (E-Mail bereits vergeben â†’ Fehlermeldung)' },
            { label: 'UC-Spezifikation: Adresse pflegen', role: 'p1', meta: 'Erstelle in XMind eine UC-Spezifikation mit Knoten: Vorbedingung (eingeloggt), Nachbedingung (Adresse gespeichert), Hauptszenario (1. Adresstyp wÃ¤hlen: Liefer- oder Rechnungsadresse, 2. Felder eingeben: StraÃŸe, PLZ, Ort, Land, 3. Speichern), Alternativszenarien (PLZ ungÃ¼ltig â†’ Validierung), Hinweis: S-04 nutzt nur digitale KanÃ¤le fÃ¼r Tickets' }
          ]},
          { label: 'UC: Zahlungswege verwalten', role: 'p1', meta: 'Zahlarten hinterlegen; Validierung IBAN/BIC/Luhn/Token; Schnittstelle zu S-03; Format: UC-Spezifikation + AktivitÃ¤tsdiagramm; Tools: XMind + Visual Paradigm', children: [
            { label: 'User Story: Zahlungsweg hinzufÃ¼gen', role: 'p1', meta: 'Erstelle in XMind einen Topic-Knoten "User Story: Zahlungsweg hinzufÃ¼gen" mit Subtopics: Akzeptanzkriterien (Standardkunde: Vorkasse, Kreditkarte, PayPal, Bankeinzug; Premium-Kunde zusÃ¤tzlich: Rechnung, Ãœberweisung; alle Zahlungsdaten validiert vor Speicherung)' },
            { label: 'UC-Spezifikation: Zahlungsweg anlegen', role: 'p1', meta: 'Erstelle in XMind eine UC-Spezifikation mit Knoten: Vorbedingung (eingeloggt), Nachbedingung (Zahlungsweg gespeichert), Hauptszenario (1. Zahlart wÃ¤hlen, 2. Daten eingeben: IBAN/BIC fÃ¼r Bankeinzug, Kartennummer/CVV fÃ¼r Kreditkarte, PayPal-ID, 3. Validierung durchfÃ¼hren, 4. Speichern), Alternativszenarien (IBAN ungÃ¼ltig â†’ Fehlermeldung, Luhn-Check fehlgeschlagen)' },
            { label: 'AktivitÃ¤tsdiagramm: IBAN-Validierung', role: 'p3', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Activity Diagram. Start-Node â†’ Action "IBAN eingeben" â†’ Action "LÃ¤ndercode prÃ¼fen (DE: 22 Zeichen)" â†’ Decision-Node "LÃ¤nge korrekt?" â†’ bei [nein] Action "Fehlermeldung" â†’ zurÃ¼ck. Bei [ja] â†’ Action "PrÃ¼fziffer berechnen (Modulo 97)" â†’ Decision-Node "PrÃ¼fziffer korrekt?" â†’ bei [nein] zurÃ¼ck, bei [ja] â†’ Action "BIC eingeben" â†’ Action "BIC-Format prÃ¼fen (8 oder 11 Zeichen)" â†’ Decision-Node "BIC korrekt?" â†’ bei [ja] Action "IBAN/BIC speichern" â†’ End-Node' },
            { label: 'AktivitÃ¤tsdiagramm: Kreditkarten-Validierung (Luhn)', role: 'p3', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Activity Diagram. Start-Node â†’ Action "Kartennummer eingeben" â†’ Action "Luhn-Algorithmus anwenden (jede 2. Ziffer verdoppeln, Quersumme bilden, Modulo 10 = 0)" â†’ Decision-Node "Luhn-Check bestanden?" â†’ bei [nein] Action "Fehlermeldung: ungÃ¼ltige Kartennummer" â†’ zurÃ¼ck. Bei [ja] â†’ Action "CVV eingeben" â†’ Action "Ablaufdatum prÃ¼fen (nicht abgelaufen)" â†’ Decision-Node "Karte gÃ¼ltig?" â†’ bei [nein] zurÃ¼ck, bei [ja] â†’ Action "Kartentoken generieren" â†’ Action "Token speichern (verschlÃ¼sselt)" â†’ End-Node' },
            { label: 'AktivitÃ¤tsdiagramm: PayPal-Validierung', role: 'p3', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Activity Diagram. Start-Node â†’ Action "PayPal-E-Mail eingeben" â†’ Action "E-Mail-Format validieren (regex)" â†’ Decision-Node "Format korrekt?" â†’ bei [nein] zurÃ¼ck. Bei [ja] â†’ Action "PayPal-API aufrufen: validateAccount(email)" â†’ Decision-Node "Account existiert?" â†’ bei [nein] Action "Fehlermeldung" â†’ zurÃ¼ck, bei [ja] â†’ Action "PayPal-ID speichern" â†’ End-Node' },
            { label: 'Sequenzdiagramm: Zahlungsweg an S-03 Ã¼bergeben', role: 'p3', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Sequence Diagram. Lifelines: "Kunde", "S-01 Kundenverwaltung", "S-03 Bezahlung". Message von Kunde â†’ S-01 "selectPaymentMethod(zahlungsweg)". S-01 â†’ S-03 "processPayment(zahlungsweg-Objekt: {type, IBAN/Token/PayPal-ID})". S-03 validiert und antwortet mit return "paymentApproved" oder "paymentFailed". S-01 â†’ Kunde "BestÃ¤tigung/Fehler"' }
          ]},
          { label: 'UC: Premium-Status nutzen', role: 'p1', meta: 'Premium-Upgrade; Reservierungsdauer 2h/4h; Warenkorb-Timeout 24h/36h; Schnittstellen zu S-02, S-06; Format: UC-Spezifikation; Tool: XMind', children: [
            { label: 'User Story: Premium-Upgrade', role: 'p1', meta: 'Erstelle in XMind einen Topic-Knoten "User Story: Premium-Upgrade" mit Subtopics: Akzeptanzkriterien (Upgrade-Button im Profil, Vorteile: Reservierungsdauer 4h statt 2h, Warenkorb-Timeout 36h statt 24h, zusÃ¤tzliche Zahlarten: Rechnung/Ãœberweisung, Upgrade-Datum speichern)' },
            { label: 'UC-Spezifikation: Premium-Upgrade durchfÃ¼hren', role: 'p1', meta: 'Erstelle in XMind eine UC-Spezifikation mit Knoten: Vorbedingung (Standardkunde, eingeloggt), Nachbedingung (Premium-Status aktiv, Upgrade-Datum gesetzt), Hauptszenario (1. Premium-Upgrade anfordern, 2. Vorteile anzeigen, 3. BestÃ¤tigen, 4. Status auf "Premium" setzen, 5. Upgrade-Datum speichern), Alternativszenarien (bereits Premium â†’ Meldung "bereits Premium-Kunde")' },
            { label: 'Sequenzdiagramm: Reservierungsdauer an S-02 Ã¼bergeben', role: 'p3', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Sequence Diagram. Lifelines: "Kunde", "S-01 Kundenverwaltung", "S-02 Sitzplatzauswahl". Message von Kunde â†’ S-01 "requestReservation()". S-01 liest Kundenstatus â†’ Alt-Fragment [Standardkunde] S-01 â†’ S-02 "reserve(dauer=2h)", [Premium-Kunde] S-01 â†’ S-02 "reserve(dauer=4h)". S-02 return "reservationConfirmed". S-01 â†’ Kunde "Reservierung bestÃ¤tigt"' },
            { label: 'Sequenzdiagramm: Warenkorb-Timeout an S-06 Ã¼bergeben', role: 'p3', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Sequence Diagram. Lifelines: "Kunde", "S-01 Kundenverwaltung", "S-06 Warenkorb". Message von Kunde â†’ S-01 "addToCart(artikel)". S-01 liest Kundenstatus â†’ Alt-Fragment [Standardkunde] S-01 â†’ S-06 "addItem(artikel, timeout=24h)", [Premium-Kunde] S-01 â†’ S-06 "addItem(artikel, timeout=36h)". S-06 return "itemAdded". S-01 â†’ Kunde "Artikel in Warenkorb"' }
          ]},
          { label: 'UC: Artikel bewerten', role: 'p1', meta: 'Bewertung nur fÃ¼r gekaufte Artikel nach Terminende; Schnittstelle zu S-05; Format: UC-Spezifikation + AktivitÃ¤tsdiagramm; Tools: XMind + Visual Paradigm', children: [
            { label: 'User Story: Artikel bewerten', role: 'p1', meta: 'Erstelle in XMind einen Topic-Knoten "User Story: Artikel bewerten" mit Subtopics: Akzeptanzkriterien (nur gekaufte Artikel bewertbar, erst nach Terminende, Bewertung 1-5 Sterne + optionaler Kommentar, Shop selbst nicht bewertbar)' },
            { label: 'UC-Spezifikation: Bewertung abgeben', role: 'p1', meta: 'Erstelle in XMind eine UC-Spezifikation mit Knoten: Vorbedingung (eingeloggt, Artikel gekauft, Termin beendet), Nachbedingung (Bewertung gespeichert), Hauptszenario (1. Kaufhistorie Ã¶ffnen, 2. Artikel auswÃ¤hlen, 3. Sterne-Bewertung abgeben 1-5, 4. Optional Kommentar eingeben, 5. Speichern), Alternativszenarien (Artikel nicht gekauft â†’ Fehler, Termin noch nicht beendet â†’ Fehler, Shop als Artikel â†’ ausgeschlossen)' },
            { label: 'AktivitÃ¤tsdiagramm: Bewertungsberechtigung prÃ¼fen', role: 'p3', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Activity Diagram. Start-Node â†’ Action "Bewertung anfordern" â†’ Action "Kaufhistorie abrufen" â†’ Decision-Node "Artikel in Kaufhistorie?" â†’ bei [nein] Action "Fehlermeldung: Artikel nicht gekauft" â†’ End-Node. Bei [ja] â†’ Action "Termindatum abrufen" â†’ Decision-Node "Termin beendet (Datum < jetzt)?" â†’ bei [nein] Action "Fehlermeldung: Termin noch nicht vorbei" â†’ End-Node. Bei [ja] â†’ Decision-Node "Artikel = Shop?" â†’ bei [ja] Action "Fehlermeldung: Shop nicht bewertbar" â†’ End-Node. Bei [nein] â†’ Action "Bewertungsformular anzeigen" â†’ End-Node' },
            { label: 'Sequenzdiagramm: Bewertung an S-05 Ã¼bergeben', role: 'p3', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Sequence Diagram. Lifelines: "Kunde", "S-01 Kundenverwaltung", "S-05 Kundenbewertung". Message von Kunde â†’ S-01 "submitRating(artikel-ID, bewertung, kommentar)". S-01 â†’ S-01 selbst: "validatePurchase(kunde-ID, artikel-ID)" (prÃ¼ft Kaufhistorie). S-01 â†’ S-01: "validateEventDate(artikel-ID)" (prÃ¼ft Termin beendet). Alt-Fragment [berechtigt] S-01 â†’ S-05 "storeRating(kunde-ID, artikel-ID, bewertung, kommentar, datum)". S-05 return "ratingStored". S-01 â†’ Kunde "Bewertung gespeichert". [nicht berechtigt] S-01 â†’ Kunde "Fehlermeldung: nicht berechtigt"' }
          ]}
        ]},
        { label: 'Objekte und Attribute', role: 'p2', meta: 'Klassendiagramm, Datenstruktur, Ableitungen; Format: UML-Klassendiagramm; Tool: Visual Paradigm', children: [
          { label: 'Kunde (zentral)', role: 'p2', meta: 'Basis-Entity mit Ableitungen Standard/Premium; Format: UML-Klassendiagramm (Vererbung); Tool: Visual Paradigm', children: [
            { label: 'Klasse "Kunde" erstellen', role: 'p2', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Class Diagram. FÃ¼ge eine Klasse "Kunde" hinzu (Rechteck mit drei Abschnitten). Klicke im ersten Abschnitt (Klassenname) und benenne sie "Kunde". Setze Stereotype auf <<entity>>' },
            { label: 'Attribute hinzufÃ¼gen: Basis-Daten', role: 'p2', meta: 'Klicke im zweiten Abschnitt der Klasse "Kunde" und fÃ¼ge folgende Attribute hinzu (Format: "-attribut: Typ"): -kundennummer: String {NOT NULL, UNIQUE}, -benutzername: String {NOT NULL, UNIQUE}, -email: String {NOT NULL, UNIQUE}, -vorname: String {NOT NULL}, -nachname: String {NOT NULL}, -registrierungsdatum: Date {NOT NULL}, -status: Enum(Standard, Premium) {NOT NULL}' },
            { label: 'Attribute hinzufÃ¼gen: Login-Daten', role: 'p2', meta: 'FÃ¼ge der Klasse "Kunde" weitere Attribute hinzu: -passwortHash: String {NOT NULL, encrypted}, -fehlversuche: int {default=0}, -gesperrtBis: DateTime {nullable}. Diese Attribute werden fÃ¼r Schnittstelle zu S-09 (Login-System) benÃ¶tigt' },
            { label: 'Vererbung: Standardkunde', role: 'p2', meta: 'Erstelle eine neue Klasse "Standardkunde" im Visual Paradigm Class Diagram. WÃ¤hle das Generalization-Tool (hohler Pfeil) und zeichne eine Vererbungslinie von "Standardkunde" zu "Kunde" (Pfeil zeigt auf "Kunde"). "Standardkunde" erbt alle Attribute von "Kunde", keine zusÃ¤tzlichen Attribute nÃ¶tig' },
            { label: 'Vererbung: Premium-Kunde', role: 'p2', meta: 'Erstelle eine neue Klasse "PremiumKunde" im Visual Paradigm Class Diagram. Zeichne eine Generalization-Linie von "PremiumKunde" zu "Kunde". FÃ¼ge der Klasse "PremiumKunde" ein zusÃ¤tzliches Attribut hinzu: -upgradeDatum: Date {NOT NULL}. Notiere in einem Kommentar: "Vorteile: Reservierung 4h, Warenkorb-Timeout 36h, Zahlarten: Rechnung/Ãœberweisung"' }
          ]},
          { label: 'Adresse', role: 'p2', meta: 'Trennung Liefer-/Rechnungsadresse; Format: UML-Klassendiagramm (Aggregation); Tool: Visual Paradigm', children: [
            { label: 'Klasse "Adresse" erstellen', role: 'p2', meta: 'FÃ¼ge im Visual Paradigm Class Diagram eine neue Klasse "Adresse" hinzu. Setze Stereotype auf <<entity>>. FÃ¼ge Attribute hinzu: -adressID: String {NOT NULL, UNIQUE, PK}, -strasse: String {NOT NULL}, -hausnummer: String {NOT NULL}, -plz: String {NOT NULL}, -ort: String {NOT NULL}, -land: String {NOT NULL}, -typ: Enum(Lieferadresse, Rechnungsadresse) {NOT NULL}' },
            { label: 'Aggregation: Kunde zu Adresse', role: 'p2', meta: 'WÃ¤hle das Association-Tool in Visual Paradigm und zeichne eine Linie von "Kunde" zu "Adresse". Klicke auf die Linie, wÃ¤hle "Aggregation" (hohle Raute auf Kunde-Seite). Setze MultiplizitÃ¤t: Kunde-Seite "1", Adresse-Seite "0..*" (ein Kunde kann mehrere Adressen haben). Benenne die Association "hat"' }
          ]},
          { label: 'Zahlungsweg', role: 'p2', meta: 'Basis-Entity mit Ableitungen pro Zahlungsart; Format: UML-Klassendiagramm (Vererbung); Tool: Visual Paradigm', children: [
            { label: 'Klasse "Zahlungsweg" erstellen (abstrakt)', role: 'p2', meta: 'FÃ¼ge im Visual Paradigm Class Diagram eine neue Klasse "Zahlungsweg" hinzu. Setze sie auf abstract (im Properties-Fenster: "Is Abstract" aktivieren, Klassenname wird kursiv). FÃ¼ge Attribute hinzu: -zahlungswegID: String {NOT NULL, UNIQUE, PK}, -kundeID: String {NOT NULL, FK zu Kunde}, -typ: Enum(Vorkasse, Kreditkarte, PayPal, Bankeinzug, Rechnung, Ãœberweisung) {NOT NULL}' },
            { label: 'Vererbung: Vorkasse', role: 'p2', meta: 'Erstelle eine Klasse "Vorkasse" und zeichne Generalization zu "Zahlungsweg". FÃ¼ge Attribut hinzu: -ueberweisungskonto: String {NOT NULL} (Konto fÃ¼r Vorkasse-Ãœberweisung)' },
            { label: 'Vererbung: Kreditkarte', role: 'p2', meta: 'Erstelle eine Klasse "Kreditkarte" und zeichne Generalization zu "Zahlungsweg". FÃ¼ge Attribute hinzu: -kartentoken: String {NOT NULL, UNIQUE, encrypted}, -ablaufdatum: Date {NOT NULL}, -kartentyp: Enum(Visa, MasterCard, Amex) {NOT NULL}. Notiere Constraint: "Luhn-Validierung erforderlich"' },
            { label: 'Vererbung: PayPal', role: 'p2', meta: 'Erstelle eine Klasse "PayPal" und zeichne Generalization zu "Zahlungsweg". FÃ¼ge Attribut hinzu: -paypalID: String {NOT NULL, UNIQUE} (E-Mail oder PayPal-ID)' },
            { label: 'Vererbung: Bankeinzug', role: 'p2', meta: 'Erstelle eine Klasse "Bankeinzug" und zeichne Generalization zu "Zahlungsweg". FÃ¼ge Attribute hinzu: -iban: String {NOT NULL, encrypted}, -bic: String {NOT NULL}, -mandatsreferenz: String {NOT NULL, UNIQUE}, -mandatsdatum: Date {NOT NULL}. Notiere Constraint: "IBAN-Validierung (Modulo 97)"' },
            { label: 'Vererbung: Rechnung (nur Premium)', role: 'p2', meta: 'Erstelle eine Klasse "Rechnung" und zeichne Generalization zu "Zahlungsweg". FÃ¼ge Attribut hinzu: -rechnungsadresseID: String {NOT NULL, FK zu Adresse}. Notiere Constraint: "nur fÃ¼r Premium-Kunden verfÃ¼gbar"' },
            { label: 'Aggregation: Kunde zu Zahlungsweg', role: 'p2', meta: 'Zeichne eine Aggregation (hohle Raute) von "Kunde" zu "Zahlungsweg". MultiplizitÃ¤t: Kunde "1", Zahlungsweg "0..*" (ein Kunde kann mehrere Zahlungswege haben). Benenne die Association "besitzt"' }
          ]},
          { label: 'Reservierungsparameter', role: 'p2', meta: 'Abgeleitet aus Kundenstatus; Format: UML-Klassendiagramm; Tool: Visual Paradigm', children: [
            { label: 'Methode in Kunde: getReservierungsdauer()', role: 'p2', meta: 'FÃ¼ge in der Klasse "Kunde" im dritten Abschnitt (Operationen) eine Methode hinzu: +getReservierungsdauer(): int. Notiere in einem Kommentar: "Standardkunde: return 2 (Stunden), Premium-Kunde: return 4 (Stunden). Wird an S-02 Sitzplatzauswahl Ã¼bergeben"' },
            { label: 'Methode in Kunde: getWarenkorbTimeout()', role: 'p2', meta: 'FÃ¼ge in der Klasse "Kunde" eine weitere Methode hinzu: +getWarenkorbTimeout(): int. Notiere in einem Kommentar: "Standardkunde: return 24 (Stunden), Premium-Kunde: return 36 (Stunden). Wird an S-06 Warenkorb Ã¼bergeben"' }
          ]},
          { label: 'Kaufhistorie', role: 'p2', meta: 'Nachweis fÃ¼r Bewertungsberechtigung; Aggregation Kunde â†’ KÃ¤ufe; Format: UML-Klassendiagramm; Tool: Visual Paradigm', children: [
            { label: 'Klasse "Kauf" erstellen', role: 'p2', meta: 'FÃ¼ge im Visual Paradigm Class Diagram eine neue Klasse "Kauf" hinzu. Setze Stereotype auf <<entity>>. FÃ¼ge Attribute hinzu: -kaufID: String {NOT NULL, UNIQUE, PK}, -kundeID: String {NOT NULL, FK zu Kunde}, -kaufdatum: DateTime {NOT NULL}, -artikelID: String {NOT NULL}, -terminID: String {NOT NULL}, -termindatum: DateTime {NOT NULL}, -status: Enum(abgeschlossen, laufend) {NOT NULL}' },
            { label: 'Aggregation: Kunde zu Kauf', role: 'p2', meta: 'Zeichne eine Aggregation (hohle Raute) von "Kunde" zu "Kauf". MultiplizitÃ¤t: Kunde "1", Kauf "0..*" (ein Kunde kann mehrere KÃ¤ufe haben). Benenne die Association "hat getÃ¤tigt". Notiere: "wird fÃ¼r Bewertungs-Guard verwendet (prÃ¼ft ob Artikel gekauft und Termin beendet)"' }
          ]},
          { label: 'Bewertung', role: 'p2', meta: 'Kundenbewertung fÃ¼r gekaufte Artikel; Aggregation Kunde â†’ Bewertungen; Format: UML-Klassendiagramm; Tool: Visual Paradigm', children: [
            { label: 'Klasse "Bewertung" erstellen', role: 'p2', meta: 'FÃ¼ge im Visual Paradigm Class Diagram eine neue Klasse "Bewertung" hinzu. Setze Stereotype auf <<entity>>. FÃ¼ge Attribute hinzu: -bewertungID: String {NOT NULL, UNIQUE, PK}, -kundeID: String {NOT NULL, FK zu Kunde}, -artikelID: String {NOT NULL}, -bewertung: int {NOT NULL, range 1-5}, -kommentar: String {nullable, maxLength=500}, -datum: DateTime {NOT NULL}' },
            { label: 'Aggregation: Kunde zu Bewertung', role: 'p2', meta: 'Zeichne eine Aggregation (hohle Raute) von "Kunde" zu "Bewertung". MultiplizitÃ¤t: Kunde "1", Bewertung "0..*". Benenne die Association "verfasst"' },
            { label: 'Constraint: Bewertungsberechtigung', role: 'p2', meta: 'FÃ¼ge einen Constraint-Kommentar zur Klasse "Bewertung" hinzu (rechte Maustaste auf Klasse â†’ Add â†’ Note): "Constraints: 1. Artikel muss in Kaufhistorie des Kunden vorhanden sein, 2. Termindatum muss in Vergangenheit liegen, 3. Artikel darf nicht vom Typ \'Shop\' sein (Shop nicht bewertbar), 4. Wird an S-05 Kundenbewertung Ã¼bergeben"' }
          ]}
        ]},
        { label: 'Schnittstellen zu anderen Segmenten und externen Systemen', role: 'p4', meta: 'Ãœbersicht Schnittstellenaufrufe; Format: Sequenzdiagramme; Tool: Visual Paradigm', children: [
          { label: 'S-02 Sitzplatzauswahl', role: 'p4', meta: 'Externe Gruppe; Format: Sequenzdiagramm; Tool: Visual Paradigm', children: [
            { label: 'Sequenzdiagramm: Reservierungsdauer Ã¼bergeben', role: 'p4', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Sequence Diagram "S-01 zu S-02: Reservierungsdauer". FÃ¼ge Lifelines hinzu: "Kunde", "S-01 Kundenverwaltung", "S-02 Sitzplatzauswahl". Zeichne Messages: 1. Kunde â†’ S-01 "reserveSeat(veranstaltungID, sitzplatzID)", 2. S-01 ruft intern "kunde.getReservierungsdauer()" auf (self-call), 3. Alt-Fragment [Standardkunde] S-01 â†’ S-02 "reserve(veranstaltungID, sitzplatzID, dauer=2h)", [Premium-Kunde] S-01 â†’ S-02 "reserve(veranstaltungID, sitzplatzID, dauer=4h)", 4. S-02 return "reservationConfirmed(reservierungID)", 5. S-01 â†’ Kunde "Reservierung bestÃ¤tigt"' }
          ]},
          { label: 'S-03 Bezahlung', role: 'p4', meta: 'Externe Gruppe; Format: Sequenzdiagramm; Tool: Visual Paradigm', children: [
            { label: 'Sequenzdiagramm: Zahlungsweg-Objekt Ã¼bergeben', role: 'p4', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Sequence Diagram "S-01 zu S-03: Zahlungsweg". FÃ¼ge Lifelines hinzu: "Kunde", "S-01 Kundenverwaltung", "S-03 Bezahlung". Zeichne Messages: 1. Kunde â†’ S-01 "checkout(warenkorbID, zahlungswegID)", 2. S-01 ruft "getZahlungsweg(zahlungswegID)" auf (liest Zahlungsweg-Objekt aus DB), 3. S-01 â†’ S-03 "processPayment(zahlungswegObjekt: {typ, iban/token/paypalID, betrag})", 4. Alt-Fragment [Kreditkarte] S-03 nutzt kartentoken, [Bankeinzug] S-03 nutzt iban/bic/mandatsreferenz, [PayPal] S-03 nutzt paypalID, 5. S-03 return "paymentApproved(transaktionsID)" oder "paymentFailed(fehler)", 6. S-01 â†’ Kunde "Zahlung bestÃ¤tigt/fehlgeschlagen"' }
          ]},
          { label: 'S-04 Ticketbereitstellung', role: 'p4', meta: 'Externe Gruppe; Format: Sequenzdiagramm; Tool: Visual Paradigm', children: [
            { label: 'Sequenzdiagramm: Digitale Zustellung erzwingen', role: 'p4', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Sequence Diagram "S-01 zu S-04: Ticket-Zustellung". FÃ¼ge Lifelines hinzu: "Kunde", "S-01 Kundenverwaltung", "S-04 Ticketbereitstellung". Zeichne Messages: 1. Kunde â†’ S-01 "requestTicketDelivery(kaufID, zustellungsart)", 2. S-01 prÃ¼ft Constraint "nur digitale Zustellung" (Guard), 3. Alt-Fragment [zustellungsart in {E-Mail, Download, QR-Code}] S-01 â†’ S-04 "deliverTicket(kaufID, zustellungsart, kundeEmail)", S-04 return "ticketDelivered", S-01 â†’ Kunde "Ticket zugestellt". [zustellungsart = Papierticket] S-01 â†’ Kunde "Fehler: Papiertickets nicht verfÃ¼gbar, nur digitale Zustellung". Notiere Constraint: "S-01 erzwingt: keine Papiertickets"' }
          ]},
          { label: 'S-05 Kundenbewertung', role: 'p4', meta: 'Externe Gruppe; Format: Sequenzdiagramm; Tool: Visual Paradigm', children: [
            { label: 'Sequenzdiagramm: Kaufnachweis prÃ¼fen', role: 'p4', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Sequence Diagram "S-01 zu S-05: Bewertung mit Guard". FÃ¼ge Lifelines hinzu: "Kunde", "S-01 Kundenverwaltung", "S-05 Kundenbewertung", "Kaufhistorie DB". Zeichne Messages: 1. Kunde â†’ S-01 "submitRating(artikelID, bewertung, kommentar)", 2. S-01 â†’ Kaufhistorie DB "findKauf(kundeID, artikelID)", 3. Kaufhistorie DB return "kauf(kaufID, termindatum, status)", 4. S-01 prÃ¼ft Guards (self-call): "validatePurchase()" (kauf vorhanden?), "validateEventDate()" (termindatum < jetzt?), "validateArticleType()" (artikelTyp != Shop?), 5. Alt-Fragment [alle Guards erfÃ¼llt] S-01 â†’ S-05 "storeRating(kundeID, artikelID, bewertung, kommentar, datum)", S-05 return "ratingStored", S-01 â†’ Kunde "Bewertung gespeichert". [Guard fehlgeschlagen] S-01 â†’ Kunde "Fehler: nicht berechtigt (Artikel nicht gekauft / Termin nicht beendet / Shop nicht bewertbar)"' }
          ]},
          { label: 'S-06 Warenkorb', role: 'p4', meta: 'Externe Gruppe; Format: Sequenzdiagramm; Tool: Visual Paradigm', children: [
            { label: 'Sequenzdiagramm: Warenkorb-Timeout Ã¼bergeben', role: 'p4', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Sequence Diagram "S-01 zu S-06: Warenkorb-Timeout". FÃ¼ge Lifelines hinzu: "Kunde", "S-01 Kundenverwaltung", "S-06 Warenkorb". Zeichne Messages: 1. Kunde â†’ S-01 "addToCart(artikelID)", 2. S-01 ruft intern "kunde.getWarenkorbTimeout()" auf (self-call), 3. Alt-Fragment [Standardkunde] S-01 â†’ S-06 "addItem(kundeID, artikelID, timeout=24h)", [Premium-Kunde] S-01 â†’ S-06 "addItem(kundeID, artikelID, timeout=36h)", 4. S-06 return "itemAdded(warenkorbID)", 5. S-01 â†’ Kunde "Artikel in Warenkorb (gÃ¼ltig bis timestamp + timeout)"' }
          ]},
          { label: 'S-09 Zentrales Login/Passwort-Management', role: 'p4', meta: 'Externe Gruppe; Format: Sequenzdiagramm; Tool: Visual Paradigm', children: [
            { label: 'Sequenzdiagramm: Passwort-Validierung mit Sperre', role: 'p4', meta: 'Ã–ffne Visual Paradigm, erstelle ein neues Sequence Diagram "S-01 zu S-09: Login mit Sperrlogik". FÃ¼ge Lifelines hinzu: "Kunde", "S-01 Kundenverwaltung", "S-09 Login-System". Zeichne Messages: 1. Kunde â†’ S-01 "login(benutzername, passwort)", 2. S-01 â†’ S-09 "checkAccountLocked(benutzername)", S-09 return "locked=true/false, gesperrtBis", 3. Alt-Fragment [locked=true AND gesperrtBis > jetzt] S-01 â†’ Kunde "Fehler: Account gesperrt bis timestamp", Ende. [nicht gesperrt] S-01 â†’ S-09 "validatePassword(benutzername, passwort)", 4. S-09 prÃ¼ft Passwort-Hash, return "valid=true/false", 5. Alt-Fragment [valid=true] S-01 â†’ S-09 "resetFailedAttempts(benutzername)", S-01 â†’ Kunde "Login erfolgreich". [valid=false] S-01 â†’ S-09 "incrementFailedAttempts(benutzername)", S-09 return "fehlversuche", 6. Decision: [fehlversuche >= 3] S-01 â†’ S-09 "lockAccount(benutzername, duration=1h)", S-09 setzt gesperrtBis = jetzt + 1h, S-01 â†’ Kunde "Account gesperrt fÃ¼r 1 Stunde". [fehlversuche < 3] S-01 â†’ Kunde "Falsches Passwort, Versuch X von 3"' }
          ]}
        ]}
      ]
    };

    const timelineData = [
      {
        week: 'KW 50',
        period: '09.12â€“15.12',
        class: 'timeline-kw50',
        description: 'User Stories & UC-Spezifikationen fÃ¼r Registrierung/Login, Profil, Zahlungsarten; Passwort-Policy-Checkliste; erste AktivitÃ¤tsdiagramme (Schnittstellen zu S-09, S-03)',
        tasks: [
          { label: 'UC: Registrierung & Login', role: 'p1' },
          { label: 'User Story: Registrierung', role: 'p1' },
          { label: 'User Story: Login', role: 'p1' },
          { label: 'UC-Spezifikation: Registrierung', role: 'p1' },
          { label: 'UC-Spezifikation: Login', role: 'p1' },
          { label: 'AktivitÃ¤tsdiagramm: Passwort-Validierung', role: 'p3' },
          { label: 'AktivitÃ¤tsdiagramm: Sperrlogik', role: 'p3' },
          { label: 'UC: Profil & Kontaktdaten pflegen', role: 'p1' },
          { label: 'User Story: Profil pflegen', role: 'p1' },
          { label: 'UC-Spezifikation: Profil bearbeiten', role: 'p1' },
          { label: 'UC: Zahlungswege verwalten', role: 'p1' },
          { label: 'User Story: Zahlungsweg hinzufÃ¼gen', role: 'p1' },
          { label: 'UC-Spezifikation: Zahlungsweg anlegen', role: 'p1' },
          { label: 'AktivitÃ¤tsdiagramm: IBAN-Validierung', role: 'p3' },
          { label: 'AktivitÃ¤tsdiagramm: Kreditkarten-Validierung (Luhn)', role: 'p3' }
        ]
      },
      {
        week: 'KW 51',
        period: '16.12â€“22.12',
        class: 'timeline-kw51',
        description: 'DomÃ¤nenmodell (Kunde, Profil, Zahlungsarten, Berechtigungen, Ableitungen); Attributtabellen/Enums; Review mit Use-Case-Flows',
        tasks: [
          { label: 'Objekte und Attribute', role: 'p2' },
          { label: 'Kunde (zentral)', role: 'p2' },
          { label: 'Klasse "Kunde" erstellen', role: 'p2' },
          { label: 'Attribute hinzufÃ¼gen: Basis-Daten', role: 'p2' },
          { label: 'Attribute hinzufÃ¼gen: Login-Daten', role: 'p2' },
          { label: 'Vererbung: Standardkunde', role: 'p2' },
          { label: 'Vererbung: Premium-Kunde', role: 'p2' },
          { label: 'Adresse', role: 'p2' },
          { label: 'Klasse "Adresse" erstellen', role: 'p2' },
          { label: 'Aggregation: Kunde zu Adresse', role: 'p2' },
          { label: 'Zahlungsweg', role: 'p2' },
          { label: 'Klasse "Zahlungsweg" erstellen (abstrakt)', role: 'p2' },
          { label: 'Vererbung: Vorkasse', role: 'p2' },
          { label: 'Vererbung: Kreditkarte', role: 'p2' },
          { label: 'Vererbung: PayPal', role: 'p2' },
          { label: 'Vererbung: Bankeinzug', role: 'p2' },
          { label: 'Vererbung: Rechnung (nur Premium)', role: 'p2' }
        ]
      },
      {
        week: 'KW 52',
        period: '23.12â€“29.12',
        class: 'timeline-kw52',
        description: 'Dynamik/Regeln ausarbeiten: Sperrlogik, Payment-Validierung, Premium-Upgrade-Folgen, Bewertungs-Guards, digitale Bereitstellung; AktivitÃ¤ts-/Sequenzdiagramme',
        tasks: [
          { label: 'AktivitÃ¤tsdiagramm: Sperrlogik', role: 'p3' },
          { label: 'Sequenzdiagramm: Schnittstelle S-09', role: 'p3' },
          { label: 'AktivitÃ¤tsdiagramm: PayPal-Validierung', role: 'p3' },
          { label: 'Sequenzdiagramm: Zahlungsweg an S-03 Ã¼bergeben', role: 'p3' },
          { label: 'Sequenzdiagramm: Reservierungsdauer an S-02 Ã¼bergeben', role: 'p3' },
          { label: 'Sequenzdiagramm: Warenkorb-Timeout an S-06 Ã¼bergeben', role: 'p3' },
          { label: 'AktivitÃ¤tsdiagramm: Bewertungsberechtigung prÃ¼fen', role: 'p3' },
          { label: 'Methode in Kunde: getReservierungsdauer()', role: 'p2' },
          { label: 'Methode in Kunde: getWarenkorbTimeout()', role: 'p2' }
        ]
      },
      {
        week: 'KW 01',
        period: '30.12â€“05.01',
        class: 'timeline-kw01',
        description: 'SchnittstellenvertrÃ¤ge zu externen Gruppen S-02/S-03/S-04/S-05/S-06/S-09 inkl. Parameter (Premium-Flag, Reservierungsdauer, Timeouts); Kontextskizze',
        tasks: [
          { label: 'Schnittstellen zu anderen Segmenten und externen Systemen', role: 'p4' },
          { label: 'S-02 Sitzplatzauswahl', role: 'p4' },
          { label: 'Sequenzdiagramm: Reservierungsdauer Ã¼bergeben', role: 'p4' },
          { label: 'S-03 Bezahlung', role: 'p4' },
          { label: 'Sequenzdiagramm: Zahlungsweg-Objekt Ã¼bergeben', role: 'p4' },
          { label: 'S-04 Ticketbereitstellung', role: 'p4' },
          { label: 'Sequenzdiagramm: Digitale Zustellung erzwingen', role: 'p4' },
          { label: 'S-05 Kundenbewertung', role: 'p4' },
          { label: 'Sequenzdiagramm: Kaufnachweis prÃ¼fen', role: 'p4' },
          { label: 'S-06 Warenkorb', role: 'p4' },
          { label: 'Sequenzdiagramm: Warenkorb-Timeout Ã¼bergeben', role: 'p4' },
          { label: 'S-09 Zentrales Login/Passwort-Management', role: 'p4' },
          { label: 'Sequenzdiagramm: Passwort-Validierung mit Sperre', role: 'p4' }
        ]
      },
      {
        week: 'KW 02',
        period: '06.01â€“12.01',
        class: 'timeline-kw02',
        description: 'Konsolidierung: Trace zwischen UCs, DomÃ¤nenmodell, Regeln, Schnittstellen; Parametertabellen (Reservierung/Warenkorb zu S-02/S-06) finalisieren; LÃ¼cken schlieÃŸen',
        tasks: [
          { label: 'UC: Premium-Status nutzen', role: 'p1' },
          { label: 'User Story: Premium-Upgrade', role: 'p1' },
          { label: 'UC-Spezifikation: Premium-Upgrade durchfÃ¼hren', role: 'p1' },
          { label: 'UC: Artikel bewerten', role: 'p1' },
          { label: 'User Story: Artikel bewerten', role: 'p1' },
          { label: 'UC-Spezifikation: Bewertung abgeben', role: 'p1' },
          { label: 'Kaufhistorie', role: 'p2' },
          { label: 'Klasse "Kauf" erstellen', role: 'p2' },
          { label: 'Aggregation: Kunde zu Kauf', role: 'p2' },
          { label: 'Bewertung', role: 'p2' },
          { label: 'Klasse "Bewertung" erstellen', role: 'p2' },
          { label: 'Constraint: Bewertungsberechtigung', role: 'p2' },
          { label: 'Sequenzdiagramm: Bewertung an S-05 Ã¼bergeben', role: 'p3' }
        ]
      },
      {
        week: 'KW 03',
        period: '13.01â€“19.01',
        class: 'timeline-kw03',
        description: 'QualitÃ¤tssicherung: Peer-Reviews der Diagramme/VertrÃ¤ge; Konsistenz-Check gegen Vorgaben (S-04 digital only, S-05 Kaufnachweis, S-09 Sperre 3x/1h)',
        tasks: [
          { label: 'UC: Registrierung & Login', role: 'p1' },
          { label: 'UC-Spezifikation: Adresse pflegen', role: 'p1' },
          { label: 'Aggregation: Kunde zu Zahlungsweg', role: 'p2' },
          { label: 'Aggregation: Kunde zu Bewertung', role: 'p2' },
          { label: 'Sequenzdiagramm: Digitale Zustellung erzwingen', role: 'p4' },
          { label: 'Sequenzdiagramm: Kaufnachweis prÃ¼fen', role: 'p4' },
          { label: 'Sequenzdiagramm: Passwort-Validierung mit Sperre', role: 'p4' }
        ]
      },
      {
        week: 'KW 04',
        period: '20.01â€“25.01',
        class: 'timeline-kw04',
        description: 'Finalisierung & Puffer: letzte Anpassungen, Export/Packaging aller Artefakte; Abnahme-Checkliste und PrÃ¤sentationsfolien erstellen (Ende: 25.01.2026)',
        tasks: [
          { label: 'Use Cases', role: 'p1' },
          { label: 'Objekte und Attribute', role: 'p2' },
          { label: 'Schnittstellen zu anderen Segmenten und externen Systemen', role: 'p4' }
        ]
      }
    ];

    function renderLegend() {
      legend.forEach(item => {
        const el = document.createElement('div');
        el.className = 'legend-item';
        const pill = document.createElement('span');
        pill.className = `pill ${roleStyles[item.role]}`;
        const label = document.createElement('span');
        label.textContent = item.label;
        el.appendChild(pill);
        el.appendChild(label);
        document.getElementById('legend').appendChild(el);
      });
    }

    function collectTasks(node) {
      if (node.label && node.role) {
        allTasks.push({ label: node.label, role: node.role });
      }
      if (node.children) {
        node.children.forEach(child => collectTasks(child));
      }
    }

    function renderBranches() {
      const container = document.getElementById('branches');
      mindMapData.children.forEach(branch => {
        const col = document.createElement('div');
        col.className = 'branch-column';
        
        const header = document.createElement('div');
        header.className = `branch-header ${roleStyles[branch.role]}`;
        header.innerHTML = `<div class="branch-title">${branch.label}</div><div class="branch-meta">${branch.meta || ''}</div>`;
        
        const content = document.createElement('div');
        content.className = 'branch-content';
        
        if (branch.children) {
          branch.children.forEach(child => {
            const childNode = createNode(child, 0, branch.label);
            content.appendChild(childNode);
          });
        }
        
        header.addEventListener('click', () => {
          content.classList.toggle('expanded');
        });
        
        col.appendChild(header);
        col.appendChild(content);
        container.appendChild(col);
        
        nodeIndex.set(branch.label, { toggle: null, childContainer: content });
      });
    }

    function createNode(node, level = 0, parentLabel = null) {
      const wrap = document.createElement('div');
      wrap.className = 'node-wrap';
      const nodeEl = document.createElement('div');
      nodeEl.className = 'node';
      
      let toggle;
      const childContainer = document.createElement('div');
      childContainer.className = 'children';
      childContainer.style.display = 'none';
      
      if (node.children && node.children.length > 0) {
        toggle = document.createElement('button');
        toggle.className = 'toggle';
        toggle.textContent = 'â–¶';
        toggle.addEventListener('click', () => {
          if (childContainer.style.display === 'none') {
            childContainer.style.display = 'block';
            toggle.textContent = 'â–¼';
          } else {
            childContainer.style.display = 'none';
            toggle.textContent = 'â–¶';
          }
        });
        nodeEl.appendChild(toggle);
      } else {
        const bullet = document.createElement('span');
        bullet.className = 'bullet';
        nodeEl.appendChild(bullet);
      }
      
      const boxEl = document.createElement('div');
      boxEl.className = `node-box ${roleStyles[node.role] || 'general'}`;
      const title = document.createElement('div');
      title.className = 'node-title';
      title.textContent = node.label;
      boxEl.appendChild(title);
      if (node.meta) {
        const meta = document.createElement('p');
        meta.className = 'node-meta';
        meta.textContent = node.meta;
        boxEl.appendChild(meta);
      }
      nodeEl.appendChild(boxEl);
      wrap.appendChild(nodeEl);
      
      if (node.children && node.children.length > 0) {
        node.children.forEach(child => {
          const childNode = createNode(child, level + 1, node.label);
          childContainer.appendChild(childNode);
        });
        wrap.appendChild(childContainer);
      }
      
      nodeIndex.set(node.label, { toggle, childContainer });
      if (parentLabel) {
        parentIndex.set(node.label, parentLabel);
      }
      
      return wrap;
    }

    function expandLabel(label) {
      const nodeEntry = nodeIndex.get(label);
      if (!nodeEntry) return;
      
      // Expand parent chain first
      const parentLabel = parentIndex.get(label);
      if (parentLabel) {
        expandLabel(parentLabel);
      }
      
      // Expand branch content if this is a branch label
      if (nodeEntry.childContainer && nodeEntry.toggle === null) {
        if (!nodeEntry.childContainer.classList.contains('expanded')) {
          nodeEntry.childContainer.classList.add('expanded');
        }
        return;
      }
      
      // Expand this node
      if (nodeEntry.toggle && nodeEntry.childContainer) {
        if (nodeEntry.childContainer.style.display === 'none') {
          nodeEntry.childContainer.style.display = 'block';
          nodeEntry.toggle.textContent = 'â–¼';
        }
      }
    }

    function renderTimeline() {
      const container = document.getElementById('timeline');
      timelineData.forEach(weekData => {
        const weekEl = document.createElement('div');
        weekEl.className = `timeline-week ${weekData.class}`;
        
        const header = document.createElement('div');
        header.className = 'timeline-week-header';
        header.innerHTML = `
          <div class="timeline-week-title">${weekData.week} (${weekData.period})</div>
          <p class="timeline-week-info">${weekData.description}</p>
        `;
        
        const tasksContainer = document.createElement('div');
        tasksContainer.className = 'timeline-week-tasks';
        
        weekData.tasks.forEach(task => {
          const bubble = document.createElement('div');
          bubble.className = `task-bubble ${roleStyles[task.role]}`;
          bubble.textContent = task.label;
          bubble.addEventListener('click', (e) => {
            e.stopPropagation();
            expandLabel(task.label);
          });
          tasksContainer.appendChild(bubble);
        });
        
        weekEl.addEventListener('click', () => {
          tasksContainer.classList.toggle('expanded');
        });
        
        weekEl.appendChild(header);
        weekEl.appendChild(tasksContainer);
        container.appendChild(weekEl);
      });
    }

    function renderWiki() {
      const container = document.getElementById('wiki');
      wikiData.forEach(vl => {
        const item = document.createElement('div');
        item.className = 'wiki-item';
        
        const header = document.createElement('div');
        header.className = 'wiki-header';
        header.innerHTML = `
          <div class="wiki-number">${vl.vl}</div>
          <h3 class="wiki-title">${vl.title}</h3>
        `;
        
        const content = document.createElement('div');
        content.className = 'wiki-content';
        
        // Topics
        const topicsSection = document.createElement('div');
        topicsSection.className = 'wiki-section';
        topicsSection.innerHTML = `
          <div class="wiki-section-title">Themen</div>
          <ul class="wiki-list">
            ${vl.topics.map(t => `<li>${t}</li>`).join('')}
          </ul>
        `;
        
        // Vokabeln
        const vocabSection = document.createElement('div');
        vocabSection.className = 'wiki-section';
        vocabSection.innerHTML = `
          <div class="wiki-section-title">Zentrale Begriffe</div>
          ${vl.vocab.map(v => `
            <div style="margin-bottom: 8px;">
              <span class="wiki-vocab">${v.term}</span>: ${v.def}
            </div>
          `).join('')}
        `;
        
        // Arbeitsweisen
        const methodsSection = document.createElement('div');
        methodsSection.className = 'wiki-section';
        methodsSection.innerHTML = `
          <div class="wiki-section-title">Arbeitsweisen</div>
          <p style="margin: 0;">${vl.methods}</p>
        `;
        
        content.appendChild(topicsSection);
        content.appendChild(vocabSection);
        content.appendChild(methodsSection);
        
        item.appendChild(header);
        item.appendChild(content);
        container.appendChild(item);
      });
    }

    collectTasks(mindMapData);
    renderLegend();
    renderBranches();
    renderTimeline();
    renderWiki();
  </script>
</body>
</html>
